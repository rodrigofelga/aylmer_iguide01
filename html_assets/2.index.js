(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3L9u":function(t,e,n){t.exports=n.p+"_/web-app/lib/iguide-viewer/vf-vr/assets/bc6ba4752ba9d44a.svg"},"9QAN":function(t,e,n){"use strict";n.r(e);n("5pBx"),n("SMHz");var o=n("hcEh"),i=n.n(o),r=n("RsUl"),a=n.n(r),s=n("up/f"),l=n.n(s),c=n("PRvZ"),d=n.n(c);n("j6mi");a.a.registerComponent("corner-floorplan-opacity",{dependencies:["floorplan-draw"],init:function(){this.vr=document.querySelector("a-scene").systems.vr.vr},setOpacity:function(t){if(!t.isUp){var e,n=t.cameraElev/(this.vr.FP_ANGLE_DEG+5),o=n>0?.75:.75+n;this.el.components.material.material.opacity=o,this.el.components.material.material.transparent=!0,this.el.components["floorplan-draw"].setPanoStyle(o);var i=this.el.getElementsByClassName("pano-ring");for(e=0;e<i.length;e++)i[e].components.material.material&&(i[e].components.material.material.opacity=o,i[e].components.material.material.transparent=!0);var r=this.el.getElementsByClassName("radar")[0];for(e=0;e<r.children.length;e++)r.children[e].components.material.material&&(r.children[e].components.material.material.opacity=o,r.children[e].components.material.material.transparent=!0)}}});a.a.registerComponent("corner-floorplan-position",{init:function(){this.onWindowResize()},onWindowResize:function(){var t,e,n=(this.el,t=90*Math.PI/180,{width:(e=2*Math.tan(t/2)*1)*(window.innerWidth/window.innerHeight),height:e});this.el.setAttribute("position",{x:-n.width/12,y:n.height/6,z:-1})}}),a.a.registerComponent("corner-floorplan-visible",{setVisible:function(t){this.el.setAttribute("visible",t)}});var m=a.a.utils.bind;a.a.registerComponent("entity-clickable",{init:function(){var t=this.el.components["pano-click"];this.panoId=t?t.attrValue.index:void 0;var e=this.el.components["floor-click"];this.floorId=e?e.attrValue.index:void 0,this.el.addEventListener("mouseenter",m(this.onMouseEnter,this)),this.el.addEventListener("mouseleave",m(this.onMouseLeave,this))},onMouseEnter:function(){this.el.sceneEl.emit("entity-mouseenter",{panoId:this.panoId,floorId:this.floorId})},onMouseLeave:function(){this.el.sceneEl.emit("entity-mouseleave",{panoId:this.panoId,floorId:this.floorId})}});var h=function(t,e){for(;t>e;)t-=e;return t};a.a.registerComponent("cursor-opacity",{setOpacity:function(t){var e=t.floorplan;if(0!==e.getNShownPanos()){var n,o,i=Math.PI/2,r=2*Math.PI,a=t.cameraAngle,s=t.cameraElev,l=e.getActivePano().neighbors,c=999;if(t.isUp)this.el.components.material.material&&(this.el.components.material.material.opacity=1);else{for(var d=0;d<l.length;d++)l[d].isGate||e.isPanoShown(e.getPanoById(l[d].targetId))&&(n=h(l[d].angle-i,r),(o=e.getDist(n,a,s))&&o<c&&(c=o));this.el.components.material.material&&(this.el.components.material.material.opacity=c>1.701807049?0:1-c/1.701807049,this.el.components.material.material.transparent=!0)}}}});var p=Math.PI/180,f=a.a.utils.bind;a.a.registerComponent("exit-btn",{init:function(){this.el.addEventListener("click",f(this.onClick,this)),this.el.sceneEl.addEventListener("enter-vr",f(this.onEnterVr,this)),this.el.sceneEl.addEventListener("exit-vr",f(this.onExitVr,this))},setRotation:function(t){this.el.object3D.rotation.y=t.cameraAngle*p},onClick:function(){this.el.sceneEl.exitVR()},onExitVr:function(){this.el.setAttribute("visible",!1)},onEnterVr:function(){this.el.setAttribute("visible",!0)}});var u=Math.PI/180;a.a.registerComponent("floorplan-rotation",{isRotatable:!0,setFloorplanRotation:function(t){this.isRotatable&&(t.isUp||(this.el.object3D.rotation.y=t.cameraAngle*u))},onSceneTick:function(t){this.setFloorplanRotation(t)},setIsRotatable:function(t){this.isRotatable=t}});var g=a.a.utils.bind;a.a.registerComponent("floor-click",{schema:{index:{type:"int",default:0}},init:function(){this.vr=this.el.sceneEl.systems.vr.vr,this.el.addEventListener("click",g(this.onClick,this))},onClick:function(){this.data.index!==this.vr.house.active_floorplan_index&&(document.querySelector("#image-360").emit("set-image-fade"),setTimeout(g(this.onTimeout,this),500))},onTimeout:function(){this.el.sceneEl.emit("floor-click",{idx:this.data.index})}});var v={fontSize:48,bgcolor:"#222",color:"white"},b={fontSize:48,bgcolor:"black",color:"#b3b3b3"},y=function(t,e){return t===e?v:b};a.a.registerComponent("floor-selector",{init:function(){this.vr=document.querySelector("a-scene").systems.vr.vr},setVisible:function(t){this.el.setAttribute("visible",t)},createLabel:function(t){var e=document.createElement("canvas");return e.id="a-scene__floor-label".concat(t),e.width=700,e.height=100,e.classList.add("hidden"),document.getElementById("scene").appendChild(e),e},drawLabelText:function(t,e,n){var o=document.getElementById("a-scene__floor-label".concat(t)),i=e.fontSize,r=e.bgcolor,a=e.color,s=o.getContext("2d");s.fillStyle=r,s.fillRect(0,0,700,100),s.font="".concat(i,"pt Arial"),s.textAlign="center",s.fillStyle=a,s.fillText(n,o.width/2,3*o.height/4)},writeFloorMenuItems:function(t){if(!(t.length<2)){this.floors=t;for(var e,n,o=document.getElementById("floor-menu"),i=.1*t.length/2,r=0;r<t.length;r++){var a=this.vr.house.getFloorplanIdFromIdx(r);e=document.createElement("a-plane"),o.appendChild(e),e.setAttribute("id","floor".concat(a)),e.setAttribute("position","".concat(0," ",i-.1*r," ",.3)),e.setAttribute("width",.7),e.setAttribute("height",.1),e.setAttribute("floor-click",{index:a}),e.setAttribute("entity-clickable",""),this.createLabel(a),n=y(a,this.vr.house.active_floorplan_index),this.drawLabelText(a,n,this.floors[r].label),e.setAttribute("material",{src:"#a-scene__floor-label".concat(a)})}}},onFloorEntered:function(t){void 0!==t&&this.drawLabelText(t,v,this.getFloorFromId(t).label)},onFloorLeft:function(t){if(void 0!==t){var e=y(t,this.vr.house.active_floorplan_index);this.drawLabelText(t,e,this.getFloorFromId(t).label)}},onFloorActivated:function(t){for(var e,n=0;n<this.floors.length;n++){var o=this.vr.house.getFloorplanIdFromIdx(n);e=y(o,t),this.drawLabelText(o,e,this.floors[n].label)}},getFloorFromId:function(t){for(var e=0;e<this.floors.length;e++)if(this.floors[e].id===t)return this.floors[e]}}),a.a.registerComponent("floorplan-draw",{schema:{size:{type:"number"},srcPrefix:{type:"string"}},init:function(){this.vr=document.querySelector("a-scene").systems.vr.vr,this.size=this.data.size,this.writePanos(),this.setImage()},size:0,onPanoChanged:function(){this.vr.floorplan.getNShownPanos()>0&&this.setPanoStyle()},onFloorChanged:function(){this.erasePanos(),this.setImage(),this.writePanos()},setImage:function(){this.el.setAttribute("src",this.data.srcPrefix+this.vr.house.active_floorplan_index)},onWindowResize:function(){this.erasePanos(),this.writePanos(),this.setPanoStyle()},erasePanos:function(){for(var t=this.el.querySelectorAll(".pano"),e=this.el.querySelectorAll(".pano-ring"),n=0;n<t.length;n++)t[n].outerHTML="",e[n].outerHTML=""},writePanos:function(){for(var t=this.vr.floorplan.panos,e=this.data.size,n=this.el,o=0;o<t.length;o++)if(this.vr.floorplan.isPanoShown(t[o])){var i=this.vr.floorplan.vrGetPanoIdfromIdx(o),r=this.vr.floorplan.dataToCircle(t[o].center0,e),a=document.createElement("a-circle");n.appendChild(a),a.setAttribute("id","pano".concat(i)),a.setAttribute("class","pano pano".concat(i)),a.setAttribute("material","opacity",0),a.setAttribute("material","color","green"),a.setAttribute("radius",e/40),a.setAttribute("position",{x:r.x,y:r.y,z:.001}),a.setAttribute("pano-click",{index:i}),a.setAttribute("entity-clickable","");var s=document.createElement("a-ring");n.appendChild(s),s.setAttribute("id","pano-ring".concat(i)),s.setAttribute("class","pano-ring"),s.setAttribute("material","color","green"),s.setAttribute("radius-outer",e/40),s.setAttribute("radius-inner",e/60),s.setAttribute("position",{x:r.x,y:r.y,z:.001})}},setPanoStyle:function(t){void 0===t&&(t=1);for(var e,n,o,i=this.vr.floorplan.panos,r=this.vr.floorplan.getIdxFromNActivePano(),a=this.data.size,s=0;s<i.length;s++)if(this.vr.floorplan.isPanoShown(i[s])){s===r?(n=a/80,e=1,i[s].visited=!0):i[s].visited?(n=a/60,e=0):(n=a/60,e=.3),o=this.el.getElementsByClassName("pano".concat(this.vr.floorplan.vrGetPanoIdfromIdx(s)));for(var l=void 0,c=0;c<o.length;c++)(l=o[c].components.material.material)?(l.opacity=e*t,l.transparent=!0):o[c].setAttribute("material","opacity",e*t),o[c].setAttribute("radius",n)}}});var w=a.a.utils.bind;a.a.registerComponent("ios-fullwindow",{init:function(){var t=this.el.canvas;t?a.a.utils.device.isIOS()&&(this.el.addEventListener("enter-vr",(function(){t.classList.add("ios-fullwindow")})),this.el.addEventListener("exit-vr",(function(){t.classList.remove("ios-fullwindow")}))):this.el.addEventListener("render-target-loaded",w(this.init,this))}});var E=n("Xy2h");a.a.registerComponent("neighbors-opacity",{setOpacity:function(t){if(0!==t.floorplan.getNShownPanos())for(var e,n,o,i=Math.PI/2,r=2*Math.PI,a=t.cameraAngle,s=t.cameraElev,l=t.floorplan.getActivePano().neighbors,c=0;c<l.length;c++)!l[c].isGate&&t.floorplan.isPanoShown(t.floorplan.getPanoById(l[c].targetId))&&(e=E.a.positiveModulo(l[c].angle-i,r),(n=document.getElementById("neighbor-ring".concat(l[c].targetId)))&&(o=t.floorplan.getDist(e,a,s),n.components.material.material&&(n.components.material.material.opacity=1-o/1.701807049,n.components.material.material.transparent=!0)))}}),a.a.registerComponent("radar-position",{schema:{type:"vec3"},onPanoChanged:function(t,e){e?(this.setVisible(!0),this.setPosition(t)):this.setVisible(!1)},setVisible:function(t){this.el.setAttribute("visible",t)},setPosition:function(t){this.el.setAttribute("position",{x:t.x,y:t.y,z:.002})}});var A=Math.PI/180;a.a.registerComponent("radar-rotation",{setRotation:function(t){this.el.object3D.rotation.z=t.cameraAngle*A}});var x=a.a.utils.bind;a.a.registerComponent("pano-click",{schema:{index:{type:"int",default:0}},init:function(){this.vr=this.el.sceneEl.systems.vr.vr,this.el.addEventListener("click",x(this.onClick,this))},onClick:function(){this.data.index!==this.vr.floorplan.nActivePano&&(document.querySelector("#image-360").emit("set-image-fade"),setTimeout(x(this.onTimeout,this),500))},onTimeout:function(){this.el.sceneEl.emit("pano-click",{idx:this.data.index})}});var I=a.a.utils.bind,P=Math.PI/180,k=30*P,C=45*P,S="".concat(0," ",0," ",0),F="".concat(-90," ",0," ",0);a.a.registerComponent("scene-animation",{init:function(){this.vr=this.el.systems.vr.vr,this.els=this.el.systems.vr.getEls(),this.els.floorSelector.components["floor-selector"].setVisible(this.isUp),this.els.floorplanTransform.addEventListener("animationstart",I(this.onAnimationstart,this)),this.els.floorplanTransform.addEventListener("animationend",I(this.onAnimationend,this))},isUp:!1,getIsUp:function(){return this.isUp},animationCount:0,onAnimationstart:function(){this.animationCount++,1===this.animationCount&&(this.isUp=!this.isUp,this.animationCount=0),this.isAnimating=!0,this.els.floorplanRotation.components["floorplan-rotation"].setIsRotatable(!1),this.els.floorSelector.components["floor-selector"].setVisible(this.isUp)},onAnimationend:function(){if(this.isAnimating=!1,this.els.cornerFloorplan.components["corner-floorplan-visible"].setVisible(!this.isUp),this.els.floorplanRotation.components["floorplan-rotation"].setIsRotatable(!0),this.isUp)return this.els.floorplanTransform.setAttribute("rotation",S),void(this.angle=this.els.floorplanRotation.object3D.rotation.y);this.els.floorplanTransform.setAttribute("rotation",F),this.angle=void 0},setFloorplanOrientation:function(t){var e=t.cameraAngle*P,n=t.cameraElev;this.isUp?(e<this.angle-k||e>this.angle+C||n>30)&&this.setFloorplanDown():-n>this.vr.FP_ANGLE_DEG&&-n<this.vr.FP_ANGLE_DEG+20&&this.setFloorplanUp()},setFloorplanAnimation:function(t,e){var n=this.els.floorplanTransformAnim;n.data&&(n.data.from=t,n.data.to=e),n.emit("floorplan-animate")},setFloorplanUp:function(){this.setFloorplanAnimation(F,S)},setFloorplanDown:function(){this.setFloorplanAnimation(this.els.floorplan.getAttribute("position"),F)}});var z=a.a.utils.bind;a.a.registerComponent("scene-navigation",{init:function(){this.vr=this.el.systems.vr.vr,this.els=this.el.systems.vr.getEls(),this.els.floorSelector.components["floor-selector"].writeFloorMenuItems(this.vr.getShownFloorplans()),this.setPano(this.vr.floorplan.getNActivePano()),this.el.addEventListener("pano-click",z(this.onPanoClick,this)),this.el.addEventListener("floor-click",z(this.onFloorClick,this))},onPanoClick:function(t){this.setPano(t.detail.idx)},onFloorClick:function(t){this.vr.setFloorplan(t.detail.idx),this.els.floorSelector.components["floor-selector"].onFloorActivated(t.detail.idx),this.els.floorplan.components["floorplan-draw"].onFloorChanged(),this.els.cornerFloorplan.components["floorplan-draw"].onFloorChanged(),this.setPano(this.vr.floorplan.getFirstShownPanoId())},setPano:function(t){var e=this;this.vr.floorplan.setNActivePano(t);var n=function(){e.els.cornerFloorplan.components["floorplan-draw"].onPanoChanged(),e.els.floorplan.components["floorplan-draw"].onPanoChanged(),e.els.neighbors.components["neighbors-draw"].write({floorplan:e.vr.floorplan}),e.setRadarPosition()},o=function(t){var n=document.createElement("a-sky");e.els.scene.appendChild(n),n.setAttribute("id","image-360"),n.setAttribute("radius",10);var o=e.vr.floorplan.getActivePano(),i=e.vr.vf.getUrl.sphere(o.vrGetSphereId());n.setAttribute("src",i),n.setAttribute("rotation","y",180*o.rotationAngle/Math.PI),t&&n.addEventListener("materialtextureloaded",t)};this.els.neighbors.components["neighbors-draw"].erase();var i=document.getElementById("image-360");if(i){var r=document.getElementById("image-360-fader");r.emit("image-360-fader-fadeout");r.addEventListener("animationend",(function t(a){r.removeEventListener("animationend",t),"image-360-fader-fadeout"===a.target.id&&(e.els.scene.removeChild(i),o((function(){r.emit("image-360-fader-fadein"),n()})))}))}else o(),n()},setRadarPosition:function(){var t=this.vr.floorplan,e=this.els.cornerFloorplan.components["floorplan-draw"].data.size,n=t.getRadarPosition(e);this.els.radar.components["radar-position"].onPanoChanged(n,t.getNShownPanos()>0)}});var _=a.a.utils.bind;a.a.registerComponent("scene-tick",{init:function(){this.vr=this.el.systems.vr.vr,this.els=this.el.systems.vr.getEls(),this.el.addEventListener("entity-mouseenter",_(this.onMouseEnter,this)),this.el.addEventListener("entity-mouseleave",_(this.onMouseLeave,this))},tick:function(){var t=this.els.camera.getAttribute("rotation").y,e=this.els.camera.getAttribute("rotation").x,n={floorplan:this.vr.floorplan,cameraAngle:t,cameraElev:e,isUp:this.el.components["scene-animation"].getIsUp()};this.els.radar.components["radar-rotation"].setRotation(n),this.els.exitBtn.components["exit-btn"].setRotation(n),this.els.floorplanRotation.components["floorplan-rotation"].onSceneTick(n),this.els.cornerFloorplan.components["corner-floorplan-opacity"].setOpacity(n),this.els.cursor.components["cursor-opacity"].setOpacity(n),this.els.neighbors.components["neighbors-opacity"].setOpacity(n),this.el.components["scene-animation"].setFloorplanOrientation(n)},onMouseEnter:function(t){var e=t.detail.floorId,n=t.detail.panoId;e!==this.vr.house.active_floorplan_index&&n!==this.vr.floorplan.nActivePano&&(this.els.spinner.setAttribute("visible",!0),this.els.spinner.emit("animate-spinner"),this.els.floorSelector.components["floor-selector"].onFloorEntered(e))},onMouseLeave:function(t){var e=t.detail.floorId,n=t.detail.panoId;e!==this.vr.house.active_floorplan_index&&n!==this.vr.floorplan.nActivePano&&(this.els.spinner.emit("stop-spinner"),this.els.spinner.setAttribute("visible",!1),this.els.floorSelector.components["floor-selector"].onFloorLeft(e))}});var L=a.a.utils.bind;a.a.registerComponent("scene-window-resize",{init:function(){this.vr=this.el.systems.vr.vr,this.els=this.el.systems.vr.getEls(),window.addEventListener("resize",L(this.onWindowResize,this))},onWindowResize:function(){this.els.cornerFloorplan.components["corner-floorplan-position"].onWindowResize(),this.els.floorplan.components["floorplan-draw"].onWindowResize()}});var B=180/Math.PI,R=function(t){return t*B};a.a.registerComponent("neighbors-draw",{onPanoChanged:function(t){this.erase(),this.write(t)},write:function(t){if(0!==t.floorplan.getNShownPanos())for(var e,n,o,i=t.floorplan.getActivePano().neighbors,r=0;r<i.length;r++)if(!i[r].isGate&&t.floorplan.isPanoShown(t.floorplan.getPanoById(i[r].targetId))){e=2*Math.sin(Math.PI/2+i[r].angle),n=2*Math.cos(Math.PI/2+i[r].angle),o=E.a.positiveModulo(R(Math.PI/2+i[r].angle),360);var a=document.createElement("a-circle");document.getElementById("neighbors").appendChild(a),a.setAttribute("id","neighbor".concat(i[r].targetId)),a.setAttribute("radius",.045),a.setAttribute("material","opacity",0),a.setAttribute("position","".concat(e," ",1.6," ").concat(n)),a.setAttribute("rotation","".concat(0," ",o-180," ",0)),a.setAttribute("pano-click",{index:i[r].targetId}),a.setAttribute("entity-clickable","");var s=document.createElement("a-ring");document.getElementById("neighbors").appendChild(s),s.setAttribute("id","neighbor-ring".concat(i[r].targetId)),s.setAttribute("radius-outer",.075),s.setAttribute("radius-inner",.045),s.setAttribute("material","color","green"),s.setAttribute("position","".concat(e," ",1.6," ").concat(n)),s.setAttribute("rotation","".concat(0," ",o-180," ",0))}},erase:function(){document.getElementById("neighbors").innerHTML=""}}),a.a.registerComponent("update-raycaster",{schema:{type:"selector"},init:function(){this.data.components.raycaster.refreshObjects()}});var M=a.a.THREE;function T(t){return{scope:{vf:"=",onVrExit:"&",vr:"="},replace:!0,template:d.a,link:function(e,n){var o=e.vf,i=e.vr;e.exitVr=function(t){t.stopPropagation(),e.onVrExit()},e.$on("vf-resized",(function(t,e){n.height(e.getContainerHeight())})),n.height(e.vf.tourDims.getContainerHeight());var r,s;e.cornerFloorplanSize=.4,e.floorplanSize=1.5,e.cornerFloorplanSrcPrefix="#floorplan-img",e.floorplanSrcPrefix="#floorplan-with-labels-img",a.a.registerSystem("vr",{init:function(){i.spheres=o.spheres,this.vr=i,this.els={scene:document.getElementById("scene"),sky:document.getElementById("image-360"),cornerFloorplan:document.getElementById("corner-floorplan"),cursor:document.getElementById("cursor"),spinner:document.getElementById("spinner"),floorplanRotation:document.getElementById("floorplan-rotation"),floorplanTransform:document.getElementById("floorplan-transform"),floorplanTransformAnim:document.getElementById("floorplan-transform-anim"),floorplan:document.getElementById("floorplan"),floorSelector:document.getElementById("floor-menu"),radar:document.getElementsByClassName("radar")[0],camera:document.getElementById("a-camera"),neighbors:document.getElementById("neighbors"),exitBtn:document.getElementById("exit-btn")},(r=document.querySelector("a-scene")).addEventListener("exit-vr",(function(){s.disable()}))},getEls:function(){return this.els}}),t((function(){n[0]&&n[0].parentNode.classList.remove("hidden"),s=new l.a,function(){for(var t,e,o=n[0].parentNode.getElementsByClassName("floor"),i=0;i<o.length;i++){for(var r=o[i].id.match(/\d+/)[0],a=o[i].querySelectorAll("g.arrows"),s=0;s<a.length;s++)a[s].parentElement.removeChild(a[s]);o[i].classList.add("hidden"),e=window.btoa(o[i].outerHTML),(t=new Image).src="data:image/svg+xml;base64,".concat(e),t.id="floorplan-with-labels-img".concat(r),t.classList.add("hidden"),document.querySelector("a-assets").appendChild(t);var l=o[i].querySelector("#floor-labels"),c=o[i].querySelector("#room-labels");l.parentNode.removeChild(l),c.parentNode.removeChild(c),(t=new Image).src="data:image/svg+xml;base64,".concat(e),t.id="floorplan-img".concat(r),t.classList.add("hidden"),document.querySelector("a-assets").appendChild(t)}}(),i.setFloorplan(1)})),e.isIOS=a.a.utils.device.isIOS(),e.onEnterVrButtonClick=function(){r.enterVR(),s.enable()}}}}a.a.registerGeometry("triangle-small",{init:function(){var t=new M.Geometry,e=new M.Vector3(0,.03,0),n=new M.Vector3(.01,0,0),o=new M.Vector3(-.01,0,0);t.vertices.push(e),t.vertices.push(n),t.vertices.push(o),t.faces.push(new M.Face3(0,2,1)),t.computeFaceNormals(),this.geometry=t}}),T.$inject=["$timeout"];var V=i.a.module("iguide.viewer.vr",[]);V.directive("vfVr",T);e.default=V.name},OjeF:function(t,e,n){(t.exports=n("efKj")(!1)).push([t.i,"#viewer__vr {\n  font-size: 0.75em;\n}\n#viewer__vr .center-absolute {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n#viewer__vr .center-horizontal {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n#viewer__vr .btn {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n}\n#viewer__vr .btn:hover {\n  background: #3cb0fd;\n  background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -o-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);\n  text-decoration: none;\n}\n#viewer__vr #enter-vr-modal {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 40%;\n  height: 40%;\n  z-index: 1;\n  background-color: black;\n  color: white;\n  opacity: 0.75;\n  padding: 0 0.5em;\n}\n#viewer__vr #enter-vr-modal p {\n  display: table;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  font-size: 0.5em;\n  margin: 1em auto;\n}\n#viewer__vr #enter-vr-modal .enter-vr-modal__action-buttons {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n  bottom: 0;\n  padding: 0.5em;\n}\n#viewer__vr #enter-vr-modal #enter-vr-button,\n#viewer__vr #enter-vr-modal #exit-vr-button {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.55em;\n  font-size: 0.5em;\n}\n@media screen and (orientation: portrait) and (max-width: 400px) {\n  #viewer__vr #enter-vr-modal {\n    width: 80%;\n  }\n}\n@media screen and (orientation: landscape) and (max-height: 275px) {\n  #viewer__vr #enter-vr-modal {\n    width: 60%;\n  }\n}\n#viewer__vr .a-canvas.ios-fullwindow {\n  position: fixed !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 1000 !important;\n  padding: 0 !important;\n}\n",""])},PRvZ:function(t,e,n){t.exports='<div id=viewer__vr> <div id=enter-vr-modal> <p> To experience VR, press the Begin button and insert your phone into a VR headset such as Google Cardboard. </p> <div class=enter-vr-modal__action-buttons> <span id=enter-vr-button ng-click=onEnterVrButtonClick()> Begin</span> <span id=exit-vr-button ng-click=exitVr($event)> Back</span> </div> </div> <a-scene id=scene ios-fullwindow embedded scene-animation scene-navigation scene-tick scene-window-resize vr-mode-ui="enabled: false"> <a-assets> <img id=exit-btn-img src='+n("3L9u")+' crossorigin=anonymous> </a-assets> <a-sky id=image-360-fader radius=9 color=black opacity=0> <a-animation id=image-360-fader-fadeout attribute=material.opacity begin=image-360-fader-fadeout from=0 to=1 dur=500> </a-animation> <a-animation id=image-360-fader-fadein attribute=material.opacity begin=image-360-fader-fadein from=1 to=0 dur=500> </a-animation> </a-sky> <a-entity id=floorplan-rotation floorplan-rotation> <a-entity id=floorplan-transform position="0 1.6 0" rotation="-90 0 0"> <a-plane id=floorplan position="0 0 -1.6" width={{floorplanSize}} height={{floorplanSize}} floorplan-draw="\n            size: {{floorplanSize}};\n            srcPrefix: {{floorplanSrcPrefix}}" material="opacity: 0.75"> <a-entity id=floor-menu position="-0.9 0 0" floor-selector> </a-entity> </a-plane> <a-animation id=floorplan-transform-anim attribute=rotation begin=floorplan-animate dur=750> </a-animation> </a-entity> </a-entity> <a-circle id=exit-btn position="0 -0.5 0" rotation="-90 0 0" radius={{floorplanSize/3}} src=#exit-btn-img visible=false exit-btn entity-clickable> </a-circle> <a-entity id=neighbors neighbors-draw neighbors-opacity light="type: ambient;"> </a-entity> <a-camera id=a-camera fov=90 look-controls> <a-cursor id=cursor cursor-opacity fuse=true fuse-timeout=1000 color=springgreen raycaster="objects: [entity-clickable]"> <a-ring id=spinner color=springgreen radius-inner=0.03 radius-outer=0.05 theta-start=90 theta-length=0 visibility=false> <a-animation attribute=geometry.thetaLength from=0 to=360 begin=animate-spinner end=stop-spinner dur=1000 fill=none direction=reverse> </a-animation> </a-ring> </a-cursor> <a-plane id=corner-floorplan material="opacity: 0.75" width={{cornerFloorplanSize}} height={{cornerFloorplanSize}} floorplan-draw="\n          size: {{cornerFloorplanSize}};\n          srcPrefix: {{cornerFloorplanSrcPrefix}}" corner-floorplan-opacity="size: {{cornerFloorplanSize}}" corner-floorplan-position corner-floorplan-visible> <a-entity class=radar radar-position radar-rotation> <a-entity material="color: rgb(253, 117, 103)" geometry="primitive: triangle-small"> </a-entity> <a-circle color="rgb(253, 117, 103)" radius=0.01 theta-start=180 theta-length=180> </a-circle> </a-entity> </a-plane> </a-camera> </a-scene> </div> '},j6mi:function(t,e,n){var o=n("OjeF");"string"==typeof o&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};n("gH/o")(o,i);o.locals&&(t.exports=o.locals)}}]);